@model WebApplication.Models.Pagination.PaginationList<Domain.Book>
@using PagedList.Mvc;

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewData["Title"] = "Home Page";
}

<hr />
<div class="row" style="padding: 20px ;">    
    <form asp-controller="Home" asp-action="Index" style="width: 100%;">
        <div class="col-sm-3   float-left">
           <select  name="categoryFilter" class="form-control single-select" asp-items="ViewBag.Categorys">
                <option value="">Todas</option>
            </select>
        </div>
        <div class="col-5  float-left">
            <input type="text" name="SearchString" value="@ViewBag.CurrentFilter" class="form-control" />
        </div>
        <div class="col-3 float-left">
            <button class="btn btn-primary">Pesquisar</button>
            <a asp-action="Index" class="btn btn-lin">Resetar</a>
        </div>
        
        <div class="col-sm-12   float-left">
           <select  name="rentedFilter" class="form-control single-select" asp-items="ViewBag.rentedOption">
                <option value="">Todas</option>
            </select>
        </div>
    </form>
</div>
@foreach (var item in Model.Result)
{
    
    <hr />
    <div class="row">
        <div class="col-sm-3">
            <div class="div-horizontal">
                @if (item.Image == null)
                {
                    <img src="/images/default.png" style="width:200px" />
                }
                else
                {
                    <img src="@Url.Action("RenderImage", new { id = item.Id})" style="width:200px" />
                }
            </div>
        </div>
        <div class="col-sm-9">
            <div class="col-sm-12" style="font-size: 36px; color: #007bff;">
                @Html.DisplayFor(modelItem => item.Title)
            </div>
            <div class="row col-sm-10">
                <div class="col-sm-12">
                    <strong>@Html.DisplayFor(modelItem => item.Author)</strong> - <strong>@Html.DisplayFor(modelItem => item.Year)</strong>
                </div>
            </div>
            <div class="col-sm-12">
                <p style="font-size: 13px; padding: 30px 0px;">
                    @Html.DisplayFor(modelItem => item.Description)
                </p>
            </div>

            
            <div class="col-sm-12" style="padding: 0px; text-transform:capitalize">
                <div class="col-sm-12" style="text-transform:capitalize">
                    <strong>Categoria:</strong> @Html.DisplayFor(modelItem => item.Category.Name)
                </div>

                <div class="col-sm-12">
                    <strong>Editora: </strong>  @Html.DisplayFor(modelItem => item.PublishingCompany)
                </div>
                    @{
                        string rentedItem = "";
                        @if(item.Rented)
                        {
                            rentedItem = "rentedItem";
                        }
                        else
                        {
                            rentedItem = "notRentedItem";
                        }
                    }
                <div class="col-sm-12">
                <strong>Disponivel?</strong>  <strong class="@rentedItem">
                                    @if(item.Rented){
                                        <text>Não</text>
                                    }else{
                                        <text>Sim</text>
                                    }
                                </strong>
                </div>

                <div class="col-sm-12">
                    <strong>Cadastro:</strong> @Html.DisplayFor(modelItem => item.DateCriation)
                </div>

                <div class="col-sm-12">
                    <strong>Ultima Atualização:</strong> @Html.DisplayFor(modelItem => item.DateUpdate)
                </div>           
            </div>
        </div>
    </div>
    
}

<partial name="../Shared/_PagingPartial.cshtml" model='new WebApplication.Models.Pagination.PagingEntity {
    CurrentPage = Model.PageNumber,
    PageSize = Model.PageSize,
    TotalPages = Model.TotalPage,
    TotalRecords = Model.TotalRecords,
    Action = "Index",
    Controller = "Home"
    }'>
    <br />